<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>扇形图</title>
		<style type="text/css">
			html,
			body,
			.tb {
				width: 100%;
				height: 100%;
				padding: 0;
				margin: 0;
			}

			.tb {

				display: grid;
				grid-definition-columns: 1fr 1fr 1fr 1fr;
				/* 			grid-definition-rows: 1fr 1fr; */

			}

			.tb>div {
				border: 1px solid #000;
			}

			canvas {
				background-color: darksalmon;
			}
		</style>
	</head>
	<body>

		<div class="tb">


			<div>
				<canvas id="sx"></canvas>
			</div>
			


		</div>

		<script type="text/javascript">
			var sdxy = [{
				x: 10,
				y: 20
			}, {
				x: 40,
				y: 40
			}, {
				x: 280,
				y: 140
			}, {
				x: 280,
				y: 10
			}, {
				x: 0,
				y: 0
			}]


			



			var sxs = [100, 200, 50, 50]; //
			var colors = ["red", "orange", "yellow", "blue"];
			var fm = 0;
			for (let i = 0; i < sxs.length; i++) {
				fm = fm + sxs[i];
			}

			var sx = document.getElementById("sx").getContext("2d");

			// sx.beginPath();
			// sx.moveTo(150,75);
			// sx.arc(150,75,75,0,Math.PI*0.25,false);
			// sx.fill();
			var beginange = 0
			var endange = 0;
			for (let i = 0; i < sxs.length; i++) {


				endange = endange + sxs[i] / fm;


				sx.beginPath();

				sx.fillStyle = colors[i];




				if (i == 2) {
					sx.moveTo(152, 70);
					sx.arc(152, 70, 65, 2 * Math.PI * beginange, 2 * Math.PI * endange, false);
					sx.lineTo(152, 70)
				} else {

					sx.moveTo(150, 75);
					console.log(beginange)
					console.log(endange)

					sx.arc(150, 75, 65, 2 * Math.PI * beginange, 2 * Math.PI * endange, false);

					sx.fill();

					sx.lineTo(150, 75)

				}






				sx.strokeStyle = "black";
				sx.stroke();



				beginange = endange;


				//	 endange = endange+beginange;


				console.log("--------------------")


			}
		</script>

	</body>
</html>
